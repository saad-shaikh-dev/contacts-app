{"ast":null,"code":"import _defineProperty from\"/home/saad/Desktop/my-projects/contacts-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/saad/Desktop/my-projects/contacts-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/saad/Desktop/my-projects/contacts-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useContext,useEffect,useState}from\"react\";import AlertContext from\"../../context/alert/alertContext\";import AuthContext from\"../../context/authentication/authContext\";import Alerts from\"../alert/Alerts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){// import authentication functions\nvar authContext=useContext(AuthContext);var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;// import alert functions\nvar alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;// functions on changes\nuseEffect(function(){// redirect to home page if authenticated\nif(isAuthenticated)props.history.push(\"/\");// if user already exists\nif(error===\"This user already exists\"){setAlert(error,\"danger\");clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);// set default input value\nvar _useState=useState({name:\"\",email:\"\",password:\"\",passwordConfirmation:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,passwordConfirmation=user.passwordConfirmation;// update temporary value\nvar onChange=function onChange(change){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},change.target.name,change.target.value)));};// register the user\nvar onSubmit=function onSubmit(submit){submit.preventDefault();// check if input is correct\nif(password!==passwordConfirmation){setAlert(\"Passwords don't match\",\"danger\");}// register user\nelse register({name:name,email:email,password:password});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"registration-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register with us\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field registration-field\",type:\"text\",name:\"name\",value:name,onChange:onChange,placeholder:\"Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field registration-field\",type:\"email\",name:\"email\",value:email,onChange:onChange,placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field registration-field\",type:\"password\",name:\"password\",value:password,onChange:onChange,placeholder:\"Enter a password\",minLength:\"8\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field registration-field\",type:\"password\",name:\"passwordConfirmation\",value:passwordConfirmation,onChange:onChange,placeholder:\"Confirm your password\",minLength:\"8\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"button button-submit registration-field\",type:\"submit\",value:\"Register\"}),/*#__PURE__*/_jsx(Alerts,{})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"signature\",children:[\"This website was developed by \",/*#__PURE__*/_jsx(\"a\",{href:\"https://saad-shaikh-portfolio.netlify.app/\",target:\"_blank\",children:\"Saad Shaikh\"})]})]});};export default Register;","map":{"version":3,"sources":["/home/saad/Desktop/my-projects/contacts-app/client/src/components/authentication/Register.js"],"names":["React","Fragment","useContext","useEffect","useState","AlertContext","AuthContext","Alerts","Register","props","authContext","register","error","clearErrors","isAuthenticated","alertContext","setAlert","history","push","name","email","password","passwordConfirmation","user","setUser","onChange","change","target","value","onSubmit","submit","preventDefault"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport AuthContext from \"../../context/authentication/authContext\";\nimport Alerts from \"../alert/Alerts\";\n\nconst Register = props => {\n  // import authentication functions\n  const authContext = useContext(AuthContext);\n  const { register, error, clearErrors, isAuthenticated } = authContext;\n  // import alert functions\n  const alertContext = useContext(AlertContext);\n  const { setAlert } = alertContext;\n\n  // functions on changes\n  useEffect(() => {\n    // redirect to home page if authenticated\n    if (isAuthenticated) props.history.push(\"/\");\n    // if user already exists\n    if (error === \"This user already exists\") {\n      setAlert(error, \"danger\");\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error, isAuthenticated, props.history]);\n\n  // set default input value\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n  });\n  const { name, email, password, passwordConfirmation } = user;\n\n  // update temporary value\n  const onChange = change =>\n    setUser({ ...user, [change.target.name]: change.target.value });\n\n  // register the user\n  const onSubmit = submit => {\n    submit.preventDefault();\n    // check if input is correct\n    if (password !== passwordConfirmation) {\n      setAlert(\"Passwords don't match\", \"danger\");\n    }\n    // register user\n    else register({ name, email, password });\n  };\n\n  return (\n    <Fragment>\n      <form className=\"registration-form\" onSubmit={onSubmit}>\n        <h2>Register with us</h2>\n        <input\n          className=\"input-field registration-field\"\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={onChange}\n          placeholder=\"Name\"\n          required\n        />\n        <input\n          className=\"input-field registration-field\"\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={onChange}\n          placeholder=\"Email\"\n          required\n        />\n        {/* password fields */}\n        <input\n          className=\"input-field registration-field\"\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={onChange}\n          placeholder=\"Enter a password\"\n          minLength=\"8\"\n          required\n        />\n        <input\n          className=\"input-field registration-field\"\n          type=\"password\"\n          name=\"passwordConfirmation\"\n          value={passwordConfirmation}\n          onChange={onChange}\n          placeholder=\"Confirm your password\"\n          minLength=\"8\"\n          required\n        />\n        <input\n          className=\"button button-submit registration-field\"\n          type=\"submit\"\n          value=\"Register\"\n        />\n        <Alerts />\n      </form>\n      <br />\n      <p className=\"signature\">This website was developed by <a href=\"https://saad-shaikh-portfolio.netlify.app/\" target=\"_blank\">Saad Shaikh</a></p>\n    </Fragment>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}