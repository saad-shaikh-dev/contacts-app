{"ast":null,"code":"import _defineProperty from\"/home/saad/Desktop/my-projects/contacts-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/saad/Desktop/my-projects/contacts-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/saad/Desktop/my-projects/contacts-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext,Fragment}from\"react\";import Alerts from\"../alert/Alerts\";import AuthContext from\"../../context/authentication/authContext\";import AlertContext from\"../../context/alert/alertContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){// import authentication functions\nvar authContext=useContext(AuthContext);var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;// import alert functions\nvar alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;// functions on changes\nuseEffect(function(){// redirect to home page if authenticated\nif(isAuthenticated)props.history.push(\"/\");// if user already exists\nif(error===\"This email address is not registered\"){setAlert(error,\"danger\");clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);// set default input values\nvar _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;// on text input\nvar onChange=function onChange(change){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},change.target.name,change.target.value)));};// login attempt\nvar onSubmit=function onSubmit(submit){submit.preventDefault();login({email:email,password:password});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"registration-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(Alerts,{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field registration-field\",type:\"email\",name:\"email\",value:email,onChange:onChange,placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field registration-field\",type:\"password\",name:\"password\",value:password,onChange:onChange,placeholder:\"Enter a password\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"button button-submit registration-field\",type:\"submit\",value:\"Login\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"signature\",children:[\"This website was developed by \",/*#__PURE__*/_jsx(\"a\",{href:\"https://saad-shaikh-portfolio.netlify.app/\",target:\"_blank\",children:\"Saad Shaikh\"})]})]});};export default Login;","map":{"version":3,"sources":["/home/saad/Desktop/my-projects/contacts-app/client/src/components/authentication/Login.js"],"names":["React","useState","useEffect","useContext","Fragment","Alerts","AuthContext","AlertContext","Login","props","authContext","login","error","clearErrors","isAuthenticated","alertContext","setAlert","history","push","email","password","user","setUser","onChange","change","target","name","value","onSubmit","submit","preventDefault"],"mappings":"gZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,CAAiDC,QAAjD,KAAiE,OAAjE,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0CAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,CACrB;AACA,GAAMC,CAAAA,WAAW,CAAGP,UAAU,CAACG,WAAD,CAA9B,CACA,GAAQK,CAAAA,KAAR,CAAuDD,WAAvD,CAAQC,KAAR,CAAeC,KAAf,CAAuDF,WAAvD,CAAeE,KAAf,CAAsBC,WAAtB,CAAuDH,WAAvD,CAAsBG,WAAtB,CAAmCC,eAAnC,CAAuDJ,WAAvD,CAAmCI,eAAnC,CACA;AACA,GAAMC,CAAAA,YAAY,CAAGZ,UAAU,CAACI,YAAD,CAA/B,CACA,GAAQS,CAAAA,QAAR,CAAqBD,YAArB,CAAQC,QAAR,CAEA;AACAd,SAAS,CAAC,UAAM,CACd;AACA,GAAIY,eAAJ,CAAqBL,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACrB;AACA,GAAIN,KAAK,GAAK,sCAAd,CAAsD,CACpDI,QAAQ,CAACJ,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACZ,CACD;AACD,CATQ,CASN,CAACD,KAAD,CAAQE,eAAR,CAAyBL,KAAK,CAACQ,OAA/B,CATM,CAAT,CAWA;AACA,cAAwBhB,QAAQ,CAAC,CAC/BkB,KAAK,CAAE,EADwB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAIA,GAAQH,CAAAA,KAAR,CAA4BE,IAA5B,CAAQF,KAAR,CAAeC,QAAf,CAA4BC,IAA5B,CAAeD,QAAf,CAEA;AACA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,MAAM,QACrBF,CAAAA,OAAO,gCAAMD,IAAN,wBAAaG,MAAM,CAACC,MAAP,CAAcC,IAA3B,CAAkCF,MAAM,CAACC,MAAP,CAAcE,KAAhD,GADc,EAAvB,CAGA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,MAAM,CAAI,CACzBA,MAAM,CAACC,cAAP,GACAnB,KAAK,CAAC,CAAEQ,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAD,CAAL,CACD,CAHD,CAKA,mBACE,MAAC,QAAD,yBACE,cAAM,SAAS,CAAC,mBAAhB,CAAoC,QAAQ,CAAEQ,QAA9C,wBACE,6BADF,cAEE,KAAC,MAAD,IAFF,cAGE,cACE,SAAS,CAAC,gCADZ,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAET,KAJT,CAKE,QAAQ,CAAEI,QALZ,CAME,WAAW,CAAC,OANd,CAOE,QAAQ,KAPV,EAHF,cAYE,cACE,SAAS,CAAC,gCADZ,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAEH,QAJT,CAKE,QAAQ,CAAEG,QALZ,CAME,WAAW,CAAC,kBANd,CAOE,QAAQ,KAPV,EAZF,cAqBE,cACE,SAAS,CAAC,yCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,OAHR,EArBF,GADF,cA4BE,aA5BF,cA6BE,WAAG,SAAS,CAAC,WAAb,yDAAuD,UAAG,IAAI,CAAC,4CAAR,CAAqD,MAAM,CAAC,QAA5D,yBAAvD,GA7BF,GADF,CAiCD,CAtED,CAwEA,cAAef,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect, useContext, Fragment } from \"react\";\nimport Alerts from \"../alert/Alerts\";\nimport AuthContext from \"../../context/authentication/authContext\";\nimport AlertContext from \"../../context/alert/alertContext\";\n\nconst Login = props => {\n  // import authentication functions\n  const authContext = useContext(AuthContext);\n  const { login, error, clearErrors, isAuthenticated } = authContext;\n  // import alert functions\n  const alertContext = useContext(AlertContext);\n  const { setAlert } = alertContext;\n\n  // functions on changes\n  useEffect(() => {\n    // redirect to home page if authenticated\n    if (isAuthenticated) props.history.push(\"/\");\n    // if user already exists\n    if (error === \"This email address is not registered\") {\n      setAlert(error, \"danger\");\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error, isAuthenticated, props.history]);\n\n  // set default input values\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const { email, password } = user;\n\n  // on text input\n  const onChange = change =>\n    setUser({ ...user, [change.target.name]: change.target.value });\n\n  // login attempt\n  const onSubmit = submit => {\n    submit.preventDefault();\n    login({ email, password });\n  };\n\n  return (\n    <Fragment>\n      <form className=\"registration-form\" onSubmit={onSubmit}>\n        <h2>Login</h2>\n        <Alerts />\n        <input\n          className=\"input-field registration-field\"\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={onChange}\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          className=\"input-field registration-field\"\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={onChange}\n          placeholder=\"Enter a password\"\n          required\n        />\n        <input\n          className=\"button button-submit registration-field\"\n          type=\"submit\"\n          value=\"Login\"\n        />\n      </form>\n      <br />\n      <p className=\"signature\">This website was developed by <a href=\"https://saad-shaikh-portfolio.netlify.app/\" target=\"_blank\">Saad Shaikh</a></p>\n    </Fragment>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}